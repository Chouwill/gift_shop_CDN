import{r as m,i as g,o as r,c as n,a as e,D as u,E as p,z as i,C as d,G as M,H as k}from"./index--9SYMf3o.js";const x={class:"checkout-form"},S=e("h1",{class:"text-3xl font-bold mb-8 text-center"},"結帳表單",-1),V={class:"form-group"},D=e("label",{for:"name",class:"form-label"},"姓名",-1),E={key:0,class:"error-message"},N={class:"form-group"},$=e("label",{for:"phone",class:"form-label"},"電話",-1),w={key:0,class:"error-message"},C={class:"form-group"},I=e("label",{for:"email",class:"form-label"},"Email",-1),U={key:0,class:"error-message"},q={class:"form-group"},B=e("label",{for:"delivery",class:"form-label"},"付款方式",-1),F=e("option",{value:"貨到付款"},"貨到付款",-1),P=[F],z={class:"form-group"},G=e("label",{class:"form-label"},"訂單編號",-1),H={class:"order-id"},O=e("div",{class:"text-center"},[e("button",{type:"submit",class:"submit-button"},"提交訂單")],-1),R={key:0,class:"popup"},T={class:"popup-content"},Y=e("p",{class:"popup-title"},"感謝您的購買！",-1),j=e("p",{class:"popup-order-id"},"您的訂單編號為：",-1),A={class:"popup-order-number"},L={__name:"CheckoutForm",setup(J){const c=m(!1),v=()=>{c.value=!1};function _(){const l=new Date,t=l.getFullYear(),a=String(l.getMonth()+1).padStart(2,"0"),b=String(l.getDate()).padStart(2,"0"),y=Math.floor(1e3+Math.random()*9e3);return`${t}${a}${b}O${y}`}const o=m({name:"",phone:"",email:"",deliveryMethod:"貨到付款",orderId:""}),s=m({name:"",phone:"",email:""});g(()=>{o.value.orderId=_()});const h=()=>{let l=!0;o.value.name.trim()?s.value.name="":(s.value.name="姓名不得為空",l=!1),o.value.phone.trim()?s.value.phone="":(s.value.phone="電話不得為空",l=!1);const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return o.value.email.trim()?t.test(o.value.email)?s.value.email="":(s.value.email="請輸入有效的 Email",l=!1):(s.value.email="Email 不得為空",l=!1),l},f=()=>{h()?c.value=!0:alert("請檢查表單資料是否正確！")};return(l,t)=>(r(),n("div",x,[S,e("form",{onSubmit:k(f,["prevent"]),class:"space-y-8"},[e("div",V,[D,u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.name=a),type:"text",id:"name",class:"form-input",placeholder:"請輸入姓名",required:""},null,512),[[p,o.value.name]]),s.value.name?(r(),n("p",E,i(s.value.name),1)):d("",!0)]),e("div",N,[$,u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.phone=a),type:"tel",id:"phone",class:"form-input",placeholder:"請輸入電話",required:""},null,512),[[p,o.value.phone]]),s.value.phone?(r(),n("p",w,i(s.value.phone),1)):d("",!0)]),e("div",C,[I,u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.email=a),type:"email",id:"email",class:"form-input",placeholder:"請輸入 Email",required:""},null,512),[[p,o.value.email]]),s.value.email?(r(),n("p",U,i(s.value.email),1)):d("",!0)]),e("div",q,[B,u(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.deliveryMethod=a),id:"delivery",class:"form-input"},P,512),[[M,o.value.deliveryMethod]])]),e("div",z,[G,e("p",H,i(o.value.orderId),1)]),O],32),c.value?(r(),n("div",R,[e("div",T,[Y,j,e("p",A,[e("strong",null,i(o.value.orderId),1)]),e("button",{onClick:v,class:"close-button"},"關閉")])])):d("",!0)]))}};export{L as default};
