import{_ as $,A as w,y as N,g as M,k as x,r as b,B as P,o as c,c as l,a as t,b as d,F as B,x as D,z as r,C as k,v as p,p as F,e as I}from"./index--9SYMf3o.js";const i=_=>(F("data-v-c3f2f8d4"),_=_(),I(),_),L={class:"cart_wrapper"},O={class:"cart_header"},V=i(()=>t("h2",null,"購物車",-1)),E={class:"cart_main"},H={class:"cart_table"},T=i(()=>t("thead",null,[t("tr",null,[t("th"),t("th",null,"項目 POKE"),t("th",null,"單價"),t("th",{width:"50"},"刪除")])],-1)),z={class:"cart_item_pic"},A=["src"],K={class:"cart_item_td"},R={class:"cart_controls"},U=["onClick"],Y=["onClick"],j={class:"cart_item_price"},q={class:"cart_item_trash"},G=["onClick"],J={class:"cart_total"},Q=i(()=>t("th",null,"訂單金額",-1)),W=i(()=>t("tr",null,[t("th",null,"運費"),t("td",null,"60")],-1)),X=i(()=>t("th",null,"總計",-1)),Z={key:1,class:"popup"},tt=["innerHTML"],st={__name:"Shoppingcart",setup(_){const g=w(),e=N(),C=M(e.state),m=x(()=>e.totalPrice),a=b(!1),h=b("");function S(){const o=new Date,v=o.getFullYear(),n=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0"),u=Math.floor(1e3+Math.random()*9e3);return`${v}${n}${s}O${u}`}const f=()=>{a.value=!1},y=()=>{if(g.push("/checkoutForm"),console.log(e.state.products.length),console.log("777",e.state.products),e.state.products.length===0)h.value="現在購物車是空的",a.value=!0;else{const o=S();h.value=`您的訂單編號為：${o}<br>謝謝您的購買！`,a.value=!0}};return(o,v)=>{const n=P("font-awesome-icon");return c(),l("div",L,[t("div",O,[V,d(n,{icon:"fa-solid fa-xmark",class:"cancel"})]),t("div",E,[t("table",H,[T,t("tbody",null,[(c(!0),l(B,null,D(C.products,s=>(c(),l("tr",{key:s.id},[t("td",z,[t("img",{src:s.imageUrl},null,8,A)]),t("td",K,[t("h5",null,r(s.title),1),t("div",R,[t("button",{class:"btn",onClick:u=>p(e).decrement(s.id)},[d(n,{icon:"fa-solid fa-minus"})],8,U),t("span",null,r(s.number),1),t("button",{class:"btn",onClick:u=>p(e).increment(s.id)},[d(n,{icon:"fa-solid fa-plus"})],8,Y)])]),t("td",j,r(s.price*s.number),1),t("td",q,[t("button",{class:"btn btn-trash",onClick:u=>p(e).remove(s.id)},[d(n,{icon:"fa-solid fa-trash"})],8,G)])]))),128))])]),t("table",J,[t("tr",null,[Q,t("td",null,r(m.value),1)]),W,t("tr",null,[X,t("td",null,r(m.value+60),1)])]),t("button",{class:"self_checkout",onClick:y},"下一步")]),a.value?(c(),l("div",{key:0,class:"popup-overlay",onClick:f})):k("",!0),a.value?(c(),l("div",Z,[t("p",{innerHTML:h.value},null,8,tt),t("button",{onClick:f,class:"btn"},"關閉")])):k("",!0)])}}},ot=$(st,[["__scopeId","data-v-c3f2f8d4"]]);export{ot as default};
