import{_ as y,y as $,g as w,k as N,r as b,A as M,o as c,c as l,a as t,b as u,F as x,x as P,z as r,B as k,v as p,p as B,e as D}from"./index-tprb7Q9c.js";const i=_=>(B("data-v-a8fa8803"),_=_(),D(),_),I={class:"cart_wrapper"},F={class:"cart_header"},L=i(()=>t("h2",null,"購物車",-1)),O={class:"cart_main"},V={class:"cart_table"},E=i(()=>t("thead",null,[t("tr",null,[t("th"),t("th",null,"項目 POKE"),t("th",null,"單價"),t("th",{width:"50"},"刪除")])],-1)),H={class:"cart_item_pic"},T=["src"],z={class:"cart_item_td"},A={class:"cart_controls"},K=["onClick"],U=["onClick"],Y={class:"cart_item_price"},j={class:"cart_item_trash"},q=["onClick"],G={class:"cart_total"},J=i(()=>t("th",null,"訂單金額",-1)),Q=i(()=>t("tr",null,[t("th",null,"運費"),t("td",null,"60")],-1)),R=i(()=>t("th",null,"總計",-1)),W={key:1,class:"popup"},X=["innerHTML"],Z={__name:"Shoppingcart",setup(_){const e=$(),g=w(e.state),m=N(()=>e.totalPrice),a=b(!1),h=b("");function S(){const o=new Date,f=o.getFullYear(),n=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0"),d=Math.floor(1e3+Math.random()*9e3);return`${f}${n}${s}O${d}`}const v=()=>{a.value=!1},C=()=>{if(console.log(e.state.products.length),e.state.products.length===0)h.value="現在購物車是空的",a.value=!0;else{const o=S();h.value=`您的訂單編號為：${o}<br>謝謝您的購買！`,a.value=!0}};return(o,f)=>{const n=M("font-awesome-icon");return c(),l("div",I,[t("div",F,[L,u(n,{icon:"fa-solid fa-xmark",class:"cancel"})]),t("div",O,[t("table",V,[E,t("tbody",null,[(c(!0),l(x,null,P(g.products,s=>(c(),l("tr",{key:s.id},[t("td",H,[t("img",{src:s.imageUrl},null,8,T)]),t("td",z,[t("h5",null,r(s.title),1),t("div",A,[t("button",{class:"btn",onClick:d=>p(e).decrement(s.id)},[u(n,{icon:"fa-solid fa-minus"})],8,K),t("span",null,r(s.number),1),t("button",{class:"btn",onClick:d=>p(e).increment(s.id)},[u(n,{icon:"fa-solid fa-plus"})],8,U)])]),t("td",Y,r(s.price*s.number),1),t("td",j,[t("button",{class:"btn btn-trash",onClick:d=>p(e).remove(s.id)},[u(n,{icon:"fa-solid fa-trash"})],8,q)])]))),128))])]),t("table",G,[t("tr",null,[J,t("td",null,r(m.value),1)]),Q,t("tr",null,[R,t("td",null,r(m.value+60),1)])]),t("button",{class:"self_checkout",onClick:C},"確認結帳")]),a.value?(c(),l("div",{key:0,class:"popup-overlay",onClick:v})):k("",!0),a.value?(c(),l("div",W,[t("p",{innerHTML:h.value},null,8,X),t("button",{onClick:v,class:"btn"},"關閉")])):k("",!0)])}}},st=y(Z,[["__scopeId","data-v-a8fa8803"]]);export{st as default};
